# Plotting kit

The process is generally:

1. generating json file according to `j4xy.py` or `j4rank.py`.
    1. `j4xy.py` reads non-structured data, and you should implement the `read_xxx` function by yourself.
    2. `j4rank.py` reads structured data, where `password` column_id and `rank` (guess number) column_id are essential.
2. generating the figure according to `lines.py`.
    1. `lines.py` read in one or more `*.json` file generated by the above `j4xx.py` files

**Colors**

[Flat Colors](https://flatuicolors.com/), [Palettes](https://www.materialui.co/flatuicolors)

| Color | Blue    |         |         |         |      |
|-------|---------|---------|---------|---------|------|
| Code  | #0071FF | #4132b4 | #e68300 | #41B7AC | gray |

## j4xy.py

1. `-l <name>` means the name of the line shown in the figure, it would not be shown by default.
2. `-f <file>`, non-structured file, you should implement your reading function
3. `-s <file>`, save `*.json` file
4. `-t <file>`, in `j4xy.py`, the option specifies the method to parse the given data. We have two methods now:
   1. read_cdf: read cdf data 
   2. read_adams: read log file generated by ADaMsAttack.
   3. you could implement new functions by yourself
5. `--lower <number>` means the minimal rank value
6. `--upper <number>` means the maximal rank value
7. `-c <color>` means the color of the line
8. `--line-style <style>` means the style of the line, such as `solid`, `dash`
9. `--marker <shape>` means the marker in the line
10. `--marker-size <number>` means the size of the marker
11. `--mark-idx <number 1> ... <number n>` means that we show the marker for specified ranks
12. `--line-width <number>` the width of the line
13. `--gc-split <seperator>` how to split each line in the password_rank file into several parts
14. `--idx-guess` means the column_id of `rank`. It starts from 0.
15. `--idx-pwd` means the column_id of `password`. It starts from 0
16. `--show-text` means that show text annotation in the figure
17. `--text-x`, `--text-y` specifies the position of the text in the figure
18. `--text-fontsize` means the fontsize of the text annotation
19. `--need-sort` means that the password_rank file is unsorted
20. `--force-update` means that we want to read raw date from password_rank file, instead of only update parameters
    like `color`, `line width`

Note that in the json file, `total < -1 ` is equal to "we do not need to divide total".

## lines.py

**Required**

- -f: json files generated by gutify.py
- -s: save the picture here, should be a path can be accessed
  **Optional for saved file**
- --suffix: can be .pdf or .png

**Optional for label**

- -x: what does x axis mean
- -y: what does y axis mean
- --xlabel-weight: normal, bold
- --ylabel-weight: normal, bold
- --xlabel-size: font size of x label
- --ylabel-size: font size of y label

**Optional for lines**

- --use-acc-freq: do not operate the y value, use accurate frequency (or probability).

**Optional for axis**

- --xlim-low: x value less than this will not be displayed
- --xlim-high: x value larger than this will not be displayed
- --ylim-low: y value less than this will not be displayed
- --ylim-high: y value larger than this will not be displayed
- --xticks-val: ticks for x axis
- --xticks-text: text for x axis, may use $10^{2}$ to represent 100
- --yticks-val: ticks for y axis
- --yticks-val: text for y axis
- --tick-size: font size of ticks

**Optional for legend**

- --legend-loc: where you put the legend
- --legend-fontsize: font size of legend
- --legend-handle-length: length of legend handle, i.e., figure corresponding to text in legend

**Optional for figure**

- --xscale: linear, log, symlog, logit
- --yscale: same with xscale
- --tight: tight layout of figure

**Optional for vlines**

- --vlines: x value for vlines
- --vline-width: line width for vlines
- --vline-color: colors for vlines
- --vline-style: solid, dash, dot, dot_dash for vlines
- --vline-label: labels for vlines. set it to empty if you dont need

**Optional for grid**

- --hide-grid: hide grid
- --grid-linestyle: {solid,dash,dot_dash,dot}
- --no-boarder [{left,bottom,top,right} ]

**Optional for subfig**

- `--inset-axes <x y width height>`
- `--subfig-xmin <number>` left bound of x-axis
- `--subfig-xmax <number>` right bound of x-axis
- `--subfig-ymin <number>` lower bound of y-axis
- `--subfig-ymax <number>` upper bound of y-axis
- `--subfig-xticks <number> ... <number>` ticks shown in the figure
- `--subfig-xticklabels <name> ... <name>` name corresponding to each tick
- `--subfig-tick-size <number>`
- `--mark-inset <from corner id> <to corner id>` draw a line from a corner to another corner

```bash
--inset-axes 0.49 0.18 0.45 0.35 \
--subfig-xmin 2000000000 \
--subfig-xmax 50000000000000 \
--subfig-ymin 74 \
--subfig-ymax 86 \
--subfig-xticks 10000000000 100000000000 1000000000000 10000000000000 \
--subfig-xticklabels '$10^{10}$' '$10^{11}$' '$10^{12}$' '$10^{13}$' \
--subfig-yticks 80 \
--subfig-yticklabels '$80$' \
--subfig-tick-size 16 \
--mark-inset 2 4
```

**Optional for patches**

- `--patches <Patch> ... <Patch>` draw patches generated by `patch.py`

This is a relatively easy utils to draw curves.

If you want some additional functions, rewrite it.

### outputs

A figure in format of `*.pdf` or `*.png`


